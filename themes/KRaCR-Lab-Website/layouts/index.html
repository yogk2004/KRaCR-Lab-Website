{{ define "main" }}
  <!-- Banner -->
  {{ with .Params.banner }}
    <section class="section pt-14 relative overflow-hidden">
    <!-- Particle Canvas -->
    <canvas id="particle-canvas" class="absolute top-0 left-0 w-full h-full pointer-events-none"></canvas>

    <div class="kracr-hero w-full py-12">
      <div class="max-w-4xl mx-auto px-6 flex flex-col">
        <!-- Subtitle - Top Line (adjust 'left-[10%]' value) -->
        <p class="hero-subtitle mb-6 sm:mb-8 sm:self-start sm:left[30%] sm:relative">
          KNOWLEDGEABLE COMPUTING &<br> REASONING LAB
        </p>

        <!-- Title - Middle Line -->
        <h1 class="hero-title my-6 sm:my-8 self-center">
          Welcome to KRaCR
        </h1>

        <!-- Tagline - Bottom Line (adjust 'right-[10%]' value) -->
        <p class="hero-tagline mt-6 sm:mt-8 sm:self-end sm:right[30%] sm:relative">
          CRACKER OF A LAB
        </p>
      </div>
    </div>

    <style>
      /* Base Styles */
      .kracr-hero {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      }

      .hero-subtitle,
      .hero-tagline {
        font-family: 'Roboto Condensed', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        font-size: 1.1rem;
        font-weight: 700;
        letter-spacing: 0.5px;
        color: #B0743F;
        opacity: 0;
        text-transform: uppercase;
      }

      .hero-subtitle {
        transform: translateX(-30px) scale(0.98);
        animation: slideFadeInLeft 1s cubic-bezier(0.4, 0, 0.2, 1) forwards 0.3s;
      }

      .hero-title {
        text-align: center !important;
        font-size: clamp(2.5rem, 8vw, 6rem);
        font-weight: 800;
        line-height: 1;
        color: transparent;
        background-clip: text;
        background-image: linear-gradient(to bottom, #F8E9D5, #D9A875, #B0743F, #7B3E23, #3B1D0F);
        margin: 0;
        opacity: 0;
        transform: scale(0.9);
        display: inline-block;
        overflow: hidden;
        white-space: nowrap;
        border-right: 4px solid transparent;
        animation: scaleInBounce 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards 0.6s,
          typing 1.5s steps(15, end) forwards 0.6s,
          blink 0.75s step-end infinite 0.6s;
      }

      .hero-tagline {
        transform: translateX(30px) scale(0.98);
        animation: slideFadeInRight 1s cubic-bezier(0.4, 0, 0.2, 1) forwards 0.9s;
      }

      /* Animations */
      @keyframes slideFadeInLeft {
        0% {
          opacity: 0;
          transform: translateX(-30px) scale(0.98);
        }
        100% {
          opacity: 1;
          transform: translateX(0) scale(1);
        }
      }

      @keyframes slideFadeInRight {
        0% {
          opacity: 0;
          transform: translateX(30px) scale(0.98);
        }
        100% {
          opacity: 1;
          transform: translateX(0) scale(1);
        }
      }

      @keyframes scaleInBounce {
        0% {
          opacity: 0;
          transform: scale(0.9);
        }
        50% {
          opacity: 1;
          transform: scale(1.02);
        }
        100% {
          opacity: 1;
          transform: scale(1);
        }
      }

      @keyframes typing {
        from { width: 0; }
        to { width: 100%; }
      }

      /* Responsive Adjustments */
      @media (max-width: 640px) {
        .hero-title {
          white-space: normal; /* Allow text wrap if needed */
          overflow: visible; /* Prevent text clipping */
          border-right: none !important; /* Remove typing cursor */
          animation:
            scaleInBounce 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards !important; /* Keep only scale animation */
        }

        /* Optional: Reduce horizontal padding */
        .kracr-hero > div {
          padding-left: 1rem;
          padding-right: 1rem;
        }
        .hero-subtitle,
        .hero-tagline {
          align-self: center !important;
          left: auto !important;
          right: auto !important;
          font-size: 0.95rem;
        }
      }

      /* Dark Mode */
      .dark .hero-subtitle,
      .dark .hero-tagline {
        color: #D9A875;
      }

      /* Respect reduced motion */
      @media (prefers-reduced-motion: reduce) {
        .hero-subtitle,
        .hero-title,
        .hero-tagline {
          animation: none !important;
          opacity: 1 !important;
          transform: none !important;
          width: 100% !important;
          border-right: none !important;
        }
      }
    </style>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const canvas = document.getElementById('particle-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        let mouse = { x: null, y: null, radius: 120 };

        // Set canvas size
        function resizeCanvas() {
          const section = canvas.closest('section');
          canvas.width = section.offsetWidth;
          canvas.height = section.offsetHeight;
        }

        // Initialize particles with dynamic count based on screen size
        function initParticles() {
          const particleCount = window.innerWidth < 640 ? 30 : 60;
          particles = [];
          const particleColor = '217, 168, 117'; // #D9A875 in RGB

          for (let i = 0; i < particleCount; i++) {
            const size = Math.random() * 12 + 5;
            const type = Math.floor(Math.random() * 2);

            particles.push({
              x: Math.random() * canvas.width,
              y: Math.random() * canvas.height,
              size: size,
              baseSize: size,
              speedX: (Math.random() * 1 - 0.5) * 1.5,
              speedY: (Math.random() * 1 - 0.5) * 1.5,
              color: `rgba(${particleColor}, ${Math.random() * 0.3 + 0.2})`,
              type: type,
              rotation: Math.random() * 360,
              rotationSpeed: (Math.random() * 1 - 0.5) * 0.5,
              density: Math.random() * 8 + 3
            });
          }
        }

        // Draw shapes (circles and triangles)
        function drawShape(particle) {
          ctx.save();
          ctx.translate(particle.x, particle.y);
          ctx.rotate(particle.rotation * Math.PI / 180);
          ctx.fillStyle = particle.color;

          if (particle.type === 0) {
            ctx.beginPath();
            ctx.arc(0, 0, particle.size / 2, 0, Math.PI * 2);
            ctx.fill();
          } else {
            ctx.beginPath();
            ctx.moveTo(0, -particle.size / 2);
            ctx.lineTo(particle.size / 2, particle.size / 2);
            ctx.lineTo(-particle.size / 2, particle.size / 2);
            ctx.closePath();
            ctx.fill();
          }
          ctx.restore();
        }

        // Connect particles near each other
        function connectParticles() {
          const isDarkMode = document.documentElement.classList.contains('dark');
          const lineColor = isDarkMode ? '248, 233, 213' : '176, 116, 63'; // #F8E9D5 or #B0743F

          for (let a = 0; a < particles.length; a++) {
            for (let b = a; b < particles.length; b++) {
              const dx = particles[a].x - particles[b].x;
              const dy = particles[a].y - particles[b].y;
              const distance = Math.sqrt(dx * dx + dy * dy);

              if (distance < 120) {
                const opacity = 1 - distance / 120;
                ctx.strokeStyle = `rgba(${lineColor}, ${opacity * 0.3})`;
                ctx.lineWidth = 1.5;
                ctx.beginPath();
                ctx.moveTo(particles[a].x, particles[a].y);
                ctx.lineTo(particles[b].x, particles[b].y);
                ctx.stroke();
              }
            }
          }
        }

        // Handle mouse interaction
        function handleMouseInteraction() {
          for (let i = 0; i < particles.length; i++) {
            const p = particles[i];

            // Calculate distance from mouse
            const dx = mouse.x - p.x;
            const dy = mouse.y - p.y;
            const distance = Math.sqrt(dx * dx + dy * dy);

            if (distance < mouse.radius && mouse.x !== null && mouse.y !== null) {
              // Push particles away from mouse
              const forceDirectionX = dx / distance;
              const forceDirectionY = dy / distance;
              const force = (mouse.radius - distance) / mouse.radius;

              p.x -= forceDirectionX * force * p.density * 0.3;
              p.y -= forceDirectionY * force * p.density * 0.3;

              // Make particles grow when near mouse
              p.size = p.baseSize + (10 * force);

              // Increase rotation speed when near mouse
              p.rotationSpeed = force * 3;
            } else {
              if (p.size > p.baseSize) {
                p.size -= 0.2;
              }
              p.rotationSpeed = (Math.random() * 1 - 0.5) * 0.5;
            }

            // Update rotation
            p.rotation += p.rotationSpeed;
          }
        }

        // Animation loop
        function animate() {
          ctx.clearRect(0, 0, canvas.width, canvas.height);

          for (let i = 0; i < particles.length; i++) {
            let p = particles[i];

            // Update position
            p.x += p.speedX * 0.8;
            p.y += p.speedY * 0.8;

            // Wrap around edges
            if (p.x < -p.size) p.x = canvas.width + p.size;
            if (p.x > canvas.width + p.size) p.x = -p.size;
            if (p.y < -p.size) p.y = canvas.height + p.size;
            if (p.y > canvas.height + p.size) p.y = -p.size;

            // Draw particle
            drawShape(p);
          }

          handleMouseInteraction();
          connectParticles();

          requestAnimationFrame(animate);
        }

        // Mouse event handlers
        window.addEventListener('mousemove', function(e) {
          mouse.x = e.clientX;
          mouse.y = e.clientY;
        });

        window.addEventListener('mouseout', function() {
          mouse.x = null;
          mouse.y = null;
        });

        // Handle dark mode changes
        const observer = new MutationObserver(function(mutations) {
          mutations.forEach(function(mutation) {
            if (mutation.attributeName === 'class') {
              initParticles();
            }
          });
        });

        observer.observe(document.documentElement, {
          attributes: true
        });

        // Initialize
        resizeCanvas();
        initParticles();
        animate();

        // Handle window resize
        window.addEventListener('resize', function() {
          resizeCanvas();
          initParticles();
        });
      });
    </script>
  </section>
  {{ end }}

  <!-- Modern About Us Section with Research Symbols -->
  <section class="section-sm bg-gradient relative overflow-hidden">
    <!-- Semi-Transparent Research Symbols -->
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
      <!-- Ontology Modelling: Hierarchical Tree -->
      <div class="absolute left-12 top-20 w-48 h-48 animate-symbol1 opacity-20">
        <svg class="w-full h-full text-green-400 dark:text-green-200" fill="currentColor" viewBox="0 0 100 100">
          <path d="M50 10c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zm0 12c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z"/>
          <path d="M50 28v24"/>
          <path d="M30 52c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zm0 12c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z"/>
          <path d="M70 52c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zm0 12c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z"/>
          <path d="M50 28L30 52"/>
          <path d="M50 28L70 52"/>
        </svg>
      </div>
      <!-- Knowledge Graphs: Node-Link Graph -->
      <div class="absolute right-16 bottom-1/4 w-40 h-40 animate-symbol2 opacity-20">
        <svg class="w-full h-full text-blue-400 dark:text-blue-200" fill="none" stroke="currentColor" viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="10" fill="currentColor" />
          <circle cx="30" cy="30" r="8" fill="currentColor" />
          <circle cx="70" cy="30" r="8" fill="currentColor" />
          <circle cx="30" cy="70" r="8" fill="currentColor" />
          <circle cx="70" cy="70" r="8" fill="currentColor" />
          <line x1="50" y1="50" x2="30" y2="30" stroke-width="2" />
          <line x1="50" y1="50" x2="70" y2="30" stroke-width="2" />
          <line x1="50" y1="50" x2="30" y2="70" stroke-width="2" />
          <line x1="50" y1="50" x2="70" y2="70" stroke-width="2" />
        </svg>
      </div>
      <!-- Ontology Reasoning: Light Bulb -->
      <div class="absolute left-1/3 bottom-16 w-44 h-44 animate-symbol3 opacity-20">
        <svg class="w-full h-full text-yellow-400 dark:text-yellow-200" fill="currentColor" viewBox="0 0 100 100">
          <path d="M50 20c-12 0-22 10-22 22 0 8 4 15 10 19v9h24v-9c6-4 10-11 10-19 0-12-10-22-22-22zm0 36c-8 0-14-6-14-14s6-14 14-14 14 6 14 14-6 14-14 14z"/>
          <path d="M44 70h12v6H44z"/>
          <path d="M46 76h8v4h-8z"/>
        </svg>
      </div>
    </div>

    <div class="container relative z-10">
      <div class="row items-center justify-between">
        <!-- Pure CSS 3D Carousel -->
        <div class="mb:md-0 md:col-5 mb-10 animate-slideInLeft relative">
          <div class="perspective-1200">
            <div class="carousel-container">
              <!-- Radio inputs for slide control -->
              {{ range $index := (seq 0 12) }}
                <input type="radio" name="carousel" id="item-{{ add $index 1 }}" {{ if eq $index 0 }}checked{{ end }}>
              {{ end }}
              <!-- Carousel cards -->
              <div class="cards">
                {{ range $index := (seq 0 12) }}
                  <label class="card" for="item-{{ add $index 1 }}" id="slide-{{ add $index 1 }}">
                    {{ partial "image" (dict "Src" (printf "images/homeCarousel/%d.jpg" (add $index 1)) "Context" $ "Alt" (printf "Carousel Image %d" (add $index 1)) "Class" "w-full h-full object-cover object-center rounded-xl") }}
                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-40 group-hover:opacity-60 transition-opacity duration-500"></div>
                  </label>
                {{ end }}
              </div>
            </div>
          </div>
          <!-- Decorative elements -->
          <div class="absolute -z-10 -top-8 -right-8 w-32 h-32 rounded-full bg-gradient-to-br from-blue-200/30 to-purple-200/30 dark:from-blue-900/20 dark:to-purple-900/20 blur-2xl"></div>
          <div class="absolute -z-10 -bottom-8 -left-8 w-36 h-36 rounded-full bg-gradient-to-br from-purple-200/30 to-blue-200/30 dark:from-purple-900/20 dark:to-blue-900/20 blur-2xl"></div>
        </div>

        <!-- Content with Animated 3D Icons -->
        <div class="md:col-7 lg:col-6 animate-fadeInUp delay-300">
          <div class="relative">
            <div class="absolute -left-10 top-0 w-16 h-16 rounded-full bg-gradient-to-br from-blue-200/20 to-purple-200/20 dark:from-blue-900/10 dark:to-purple-900/10 blur-lg"></div>
            <h2 class="mb-6 text-4xl font-bold text-gray-900 dark:text-white relative">
              <span class="bg-clip-text text-transparent" style="background-image: linear-gradient(to right, #e77f25,#e77f25 , #FF5C57);">{{ .Params.AboutUs.title | markdownify | safeHTML }}</span>
            </h2>
          </div>
          <p class="mb-8 text-lg text-gray-700 dark:text-gray-300 relative pl-8 border-l-4 border-[#F8E9D5] dark:border-[#e63934]">
            {{ .Params.AboutUs.content | markdownify | safeHTML }}
          </p>
          <ul class="space-y-6">
            {{ range $index, $point := .Params.AboutUs.bulletpoints }}
              <li class="relative mb-8 pl-12 animate-fadeInUp group hover:translate-x-2 transition-transform duration-300">
                <div class="absolute left-0 top-0 flex items-center justify-center w-10 h-10 rounded-lg bg-white dark:bg-gray-800 shadow-lg group-hover:shadow-xl group-hover:-translate-y-1 transition-all duration-300 transform-style-preserve-3d group-hover:rotate-y-10">
                  <div class="relative w-full h-full transform-style-preserve-3d">
                    <div class="absolute inset-0 flex items-center justify-center backface-hidden rounded-lg transition-colors duration-300" style="background-color: var(--icon-bg)">
                      {{ if eq (mod $index 4) 0 }}
                        <svg class="w-6 h-6 transition-colors duration-300" style="color: var(--icon-color)" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                      {{ else if eq (mod $index 4) 1 }}
                        <svg class="w-6 h-6 transition-colors duration-300" style="color: var(--icon-color)" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                        </svg>
                      {{ else if eq (mod $index 4) 2 }}
                        <svg class="w-6 h-6 transition-colors duration-300" style="color: var(--icon-color)" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"></path>
                        </svg>
                      {{ else }}
                        <svg class="w-6 h-6 transition-colors duration-300" style="color: var(--icon-color)" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path>
                        </svg>
                      {{ end }}
                    </div>
                    <div class="absolute inset-0 flex items-center justify-center backface-hidden rounded-lg transform rotate-y-180 transition-colors duration-300" style="background-color: var(--icon-color)">
                      <span class="text-white dark:text-[#D9A875] font-bold transition-colors duration-300">{{ add $index 1 }}</span>
                    </div>
                  </div>
                </div>
                <span class="text-gray-700 dark:text-gray-300 text-lg leading-relaxed">{{ $point | markdownify | safeHTML }}</span>
              </li>
            {{ end }}
          </ul>
          {{ with .Params.AboutUs.button }}
            {{ if .enable }}
              <a class="mt-8 btn btn-primary inline-flex items-center group transition-all duration-300 hover:-translate-y-1 hover:shadow-lg transform-style-preserve-3d hover:rotate-x-5" href="{{ .link | absURL }}">
                <span class="relative z-10">{{ .label }}</span>
                <i class="fa fa-arrow-right pl-2 transition-transform group-hover:translate-x-2"></i>
                <span class="absolute inset-0 bg-blue-700 rounded-lg transform translate-z-6 group-hover:translate-z-10 transition-transform duration-300 -z-1"></span>
              </a>
            {{ end }}
          {{ end }}
        </div>
      </div>
    </div>

    <style>
      /* 3D Transformations */
      :root {
        --icon-bg: #F8E9D5;
        --icon-color: #7B3E23;
      }
      .dark {
        --icon-bg: #7B3E23;
        --icon-color: #F8E9D5;
      }
      .perspective-1200 {
        perspective: 1200px;
      }
      .transform-style-preserve-3d {
        transform-style: preserve-3d;
      }
      .backface-hidden {
        backface-visibility: hidden;
      }
      .rotate-y-10 {
        transform: rotateY(10deg);
      }
      .rotate-y-180 {
        transform: rotateY(180deg);
      }
      .translate-z-6 {
        transform: translateZ(-6px);
      }
      .translate-z-10 {
        transform: translateZ(-10px);
      }

      /* Symbol Animations */
      @keyframes symbol1 {
        0%, 100% { transform: rotateZ(0deg) scale(1); opacity: 0.2; }
        50% { transform: rotateZ(45deg) scale(1.05); opacity: 0.3; }
      }
      @keyframes symbol2 {
        0%, 100% { transform: rotateZ(0deg) scale(1); opacity: 0.2; }
        50% { transform: rotateZ(-45deg) scale(1.05); opacity: 0.3; }
      }
      @keyframes symbol3 {
        0%, 100% { transform: rotateZ(0deg) scale(1); opacity: 0.2; }
        50% { transform: rotateZ(15deg) scale(1.05); opacity: 0.3; }
      }
      .animate-symbol1 { animation: symbol1 12s ease-in-out infinite; }
      .animate-symbol2 { animation: symbol2 14s ease-in-out infinite; }
      .animate-symbol3 { animation: symbol3 10s ease-in-out infinite; }

      /* Carousel Styling - Updated for larger center image */
      .carousel-container {
        width: 100%;
        max-width: 640px;
        height: 400px;
        transform-style: preserve-3d;
        display: flex;
        justify-content: center;
        flex-direction: column;
        align-items: center;
      }
      .cards {
        position: relative;
        width: 100%;
        height: 100%;
        margin-bottom: 20px;
      }
      .card {
        position: absolute;
        width: 90%; /* Increased width for center image */
        height: 100%;
        left: 0;
        right: 0;
        margin: auto;
        transition: transform 0.5s ease, opacity 0.5s ease, scale 0.5s ease, width 0.5s ease;
        cursor: pointer;
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 6px 25px rgba(0, 0, 0, 0.15);
        opacity: 0;
        z-index: -1;
      }
      .card img {
        width: 100%;
        height: 100%;
        border-radius: 16px;
        object-fit: cover;
        object-position: center;
      }
      .card .absolute {
        border-radius: 16px;
      }
      input[type="radio"] {
        display: none;
      }

      /* Slide positioning - Updated for larger center and smaller sides */
      {{ range $index := (seq 0 12) }}
        #item-{{ add $index 1 }}:checked ~ .cards #slide-{{ add $index 1 }} {
          transform: translateX(0) scale(1);
          width: 90%; /* Larger width for center image */
          opacity: 1;
          z-index: 10;
          box-shadow: 0 12px 40px rgba(0, 0, 0, 0.25), 0 0 30px rgba(59, 130, 246, 0.4);
        }
        #item-{{ add $index 1 }}:checked ~ .cards #slide-{{ mod (add $index 1) 13 | add 1 }} {
          transform: translateX(60%) scale(0.55); /* Smaller scale for side images */
          width: 60%; /* Smaller width for side images */
          opacity: 0.4; /* Lower opacity for side images */
          z-index: 5;
        }
        /* Show last slide (13) on left when first slide (1) is active, otherwise show previous */
        {{ if eq $index 0 }}
          #item-1:checked ~ .cards #slide-13 {
            transform: translateX(-60%) scale(0.55); /* Smaller scale for side images */
            width: 60%; /* Smaller width for side images */
            opacity: 0.4; /* Lower opacity for side images */
            z-index: 5;
          }
        {{ else }}
          #item-{{ add $index 1 }}:checked ~ .cards #slide-{{ mod (sub $index 1) 13 | add 1 }} {
            transform: translateX(-60%) scale(0.55); /* Smaller scale for side images */
            width: 60%; /* Smaller width for side images */
            opacity: 0.4; /* Lower opacity for side images */
            z-index: 5;
          }
        {{ end }}
        /* Hide all other slides */
        {{ $nextIndex := mod (add $index 1) 13 }}
        {{ $prevIndex := cond (eq $index 0) 12 (mod (sub $index 1) 13) }}
        {{ range $otherIndex := (seq 0 12) }}
          {{ if and (ne $otherIndex $index) (ne $otherIndex $nextIndex) (ne $otherIndex $prevIndex) }}
            #item-{{ add $index 1 }}:checked ~ .cards #slide-{{ add $otherIndex 1 }} {
              transform: translateX(0) scale(0);
              opacity: 0;
              z-index: -2;
            }
          {{ end }}
        {{ end }}
      {{ end }}

      /* Hover effects */
      .card:hover {
        transform: translateX(0) scale(0.7);
        opacity: 0.6;
      }
      .card:has(input:checked):hover {
        transform: translateX(0) scale(1.05);
        opacity: 1;
      }

      /* Slide-in animation */
      .animate-slideInLeft {
        opacity: 0;
        transform: translateX(-50px);
        animation: slideInLeft 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
      }
      @keyframes slideInLeft {
        to { opacity: 1; transform: translateX(0); }
      }

      /* Fade-in animation for content */
      .animate-fadeInUp {
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 0.6s ease-out forwards;
      }
      @keyframes fadeInUp {
        to { opacity: 1; transform: translateY(0); }
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .carousel-container {
          max-width: 480px;
          height: 320px;
        }
        .card {
          width: 85%;
        }
        {{ range $index := (seq 0 12) }}
          #item-{{ add $index 1 }}:checked ~ .cards #slide-{{ mod (add $index 1) 13 | add 1 }} {
            transform: translateX(50%) scale(0.5);
            width: 50%;
          }
          {{ if eq $index 0 }}
            #item-1:checked ~ .cards #slide-13 {
              transform: translateX(-50%) scale(0.5);
              width: 50%;
            }
          {{ else }}
            #item-{{ add $index 1 }}:checked ~ .cards #slide-{{ mod (sub $index 1) 13 | add 1 }} {
              transform: translateX(-50%) scale(0.5);
              width: 50%;
            }
          {{ end }}
        {{ end }}
      }
      @media (max-width: 480px) {
        .carousel-container {
          max-width: 360px;
          height: 240px;
        }
        .card {
          width: 90%;
        }
        {{ range $index := (seq 0 12) }}
          #item-{{ add $index 1 }}:checked ~ .cards #slide-{{ mod (add $index 1) 13 | add 1 }} {
            transform: translateX(40%) scale(0.45);
            width: 45%;
          }
          {{ if eq $index 0 }}
            #item-1:checked ~ .cards #slide-13 {
              transform: translateX(-40%) scale(0.45);
              width: 45%;
            }
          {{ else }}
            #item-{{ add $index 1 }}:checked ~ .cards #slide-{{ mod (sub $index 1) 13 | add 1 }} {
              transform: translateX(-40%) scale(0.45);
              width: 45%;
            }
          {{ end }}
        {{ end }}
      }
    </style>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        // Animate bullet points on scroll
        const bulletPoints = document.querySelectorAll('li.animate-fadeInUp');
        const bulletObserver = new IntersectionObserver((entries) => {
          entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
              entry.target.style.animationDelay = `${index * 0.1}s`;
              entry.target.classList.add('animate-fadeInUp-active');
              bulletObserver.unobserve(entry.target);
            }
          });
        }, { threshold: 0.1 });
        bulletPoints.forEach(point => bulletObserver.observe(point));

        // Auto-advance carousel
        const radioInputs = document.querySelectorAll('input[name="carousel"]');
        let currentIndex = 0;
        setInterval(() => {
          currentIndex = (currentIndex + 1) % {{ len (seq 0 12) }};
          radioInputs[currentIndex].checked = true;
        }, 4000);
      });
    </script>
  </section>

  <!-- Latest News Section (Timeline Layout with Grid Pattern Background) -->
  <section class="section-sm relative overflow-hidden">
    <!-- Animated abstract shapes background -->
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
      <!-- Floating circles -->
      <div class="absolute -left-20 -top-20 w-64 h-64 rounded-full bg-[#e77f25]/30 dark:bg-[#e77f25]/15 blur-3xl animate-float1"></div>
      <div class="absolute -right-20 -bottom-20 w-72 h-72 rounded-full bg-[#FF5C57]/30 dark:bg-[#FF5C57]/15 blur-3xl animate-float2"></div>

      <!-- Abstract grid pattern -->
      <div class="absolute inset-0 opacity-40 dark:opacity-40">
        <svg class="w-full h-full" xmlns="http://www.w3.org/2000/svg">
          <pattern id="grid-pattern-news" x="0" y="0" width="40" height="40" patternUnits="userSpaceOnUse">
            <path d="M 40 0 L 0 0 0 40" fill="none" stroke="currentColor" stroke-width="0.5"/>
          </pattern>
          <rect width="100%" height="100%" fill="url(#grid-pattern-news)"/>
        </svg>
      </div>
    </div>

    <div class="container py-8 relative z-10">
      <div class="row">
        <div class="md:col-12 lg:col-10 xl:col-8 mx-auto mb-12 text-center">
          <h2 class="mb-4 text-4xl font-bold text-gray-900 dark:text-white">
            <span class="bg-clip-text text-transparent" style="background-image: linear-gradient(to right, #e77f25,#e77f25 , #FF5C57);">Latest News</span>
          </h2>
          <p class="text-lg text-gray-700 dark:text-gray-300 px-4 sm:px-0">
            Discover our latest achievements and events in ontology and knowledge graph research.
          </p>
        </div>
      </div>
      <div class="row justify-center relative gap-y-8 md:gap-y-16">
        <!-- Timeline Line -->
        <div class="absolute top-0 bottom-0 left-1/2 w-1 bg-gradient-to-b from-[#D19A52] via-[#F28C4E] to-[#FF5C57] dark:from-[#b87532] dark:via-[#d95e2d] dark:to-[#e63934] transform -translate-x-1/2 z-0"></div>

        {{ $rawNews := site.Data.news }}
        {{ if not $rawNews }}
          <div class="col-12 text-center">
            <p class="text-gray-600 dark:text-gray-400">No news available at the moment.</p>
          </div>
        {{ else if not (reflect.IsSlice $rawNews) }}
          <div class="col-12 text-center">
            <p class="text-gray-600 dark:text-gray-400">Error: Invalid news data format.</p>
          </div>
        {{ else }}
          <!-- Parse and sort news -->
          {{ $news := slice }}
          {{ range $rawNews }}
            {{ $dateString := "" }}
            {{ if reflect.IsMap .Date }}
              {{ $dateString = index .Date "$date" }}
            {{ else }}
              {{ $dateString = .Date }}
            {{ end }}
            {{ if $dateString }}
              {{ $parsedDate := time.AsTime $dateString }}
              {{ if ge $parsedDate.Year 2022 }}
                {{ $news = $news | append (merge . (dict "ParsedDate" $parsedDate)) }}
              {{ end }}
            {{ end }}
          {{ end }}

          {{ if $news }}
            {{ $news = sort $news "ParsedDate" "desc" }}
            {{ $news = first 4 $news }}

            <!-- Display news items -->
            {{ range $index, $item := $news }}
              <div class="md:col-6 animate-news-card {{ if eq (mod $index 2) 0 }}news-card-left{{ else }}news-card-right{{ end }} mb-4 md:mb-0" style="animation-delay: {{ printf "%.1fs" (mul $index 0.3) }};">
                <div class="relative flex {{ if eq (mod $index 2) 0 }}justify-start{{ else }}justify-end{{ end }} items-start">
                  <!-- News Card -->
                  <div class="w-full md:w-4/5 bg-white/80 dark:bg-gray-800/80 backdrop-blur-md rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-105 hover:rotate-1 group relative overflow-hidden h-[110px] flex flex-col">
                    <div class="p-4 flex-grow">
                      <p class="text-xs text-black dark:text-white italic mb-2 inline-flex items-center">
                        <i class="fas fa-calendar-alt text-blue-500 mr-2 text-base"></i>
                        {{ $item.ParsedDate.Format "January 2, 2006" }}
                      </p>
                      <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2 line-clamp-2">
                        {{ if $item.Url }}
                          <a href="{{ $item.Url | absURL }}" class="hover:underline">{{ $item.Title | markdownify | safeHTML }}</a>
                        {{ else }}
                          {{ $item.Title | markdownify | safeHTML }}
                        {{ end }}
                      </h3>
                      {{ if $item.Excerpt }}
                        <p class="text-gray-600 dark:text-gray-300 text-xs line-clamp-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                          {{ $item.Excerpt | markdownify | safeHTML }}
                        </p>
                      {{ end }}
                    </div>
                  </div>
                </div>
              </div>
            {{ end }}
          {{ else }}
            <div class="col-12 text-center">
              <p class="text-gray-600 dark:text-gray-400">No recent news available.</p>
            </div>
          {{ end }}
        {{ end }}
      </div>
      <div class="text-center mt-12">
        <a
          href="{{ "news/" | relURL }}"
          class="btn inline-flex items-center group transition-all duration-300 bg-[#C18149] hover:bg-[#E04D48] text-white hover:-translate-y-1 hover:shadow-lg">
          <span class="relative z-10">See All News</span>
          <i class="fa fa-arrow-right pl-2 transition-transform group-hover:translate-x-2"></i>
        </a>
      </div>
    </div>

    <style>
      /* Floating animations for background elements */
      @keyframes float1 {
        0%, 100% { transform: translate(0, 0) rotate(0deg); }
        50% { transform: translate(-20px, -20px) rotate(5deg); }
      }
      @keyframes float2 {
        0%, 100% { transform: translate(0, 0) rotate(0deg); }
        50% { transform: translate(20px, 20px) rotate(-5deg); }
      }
      .animate-float1 {
        animation: float1 12s ease-in-out infinite;
      }
      .animate-float2 {
        animation: float2 15s ease-in-out infinite;
        animation-delay: 2s;
      }

      /* Enhanced grid contrast */
      .dark #grid-pattern-news path {
        stroke: rgba(255, 255, 255, 0.5);
      }
      #grid-pattern-news path {
        stroke: rgba(0, 0, 0, 0.5);
      }

      /* News card animations */
      .animate-news-card {
        opacity: 0;
        animation: fadeInSlide 0.8s ease-out forwards;
      }

      .news-card-left {
        transform: translateX(-50px);
      }

      .news-card-right {
        transform: translateX(50px);
      }

      @keyframes fadeInSlide {
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      /* Add gap between cards and timeline line */
      .news-card-left .flex {
        margin-right: 1rem; /* Gap for left-aligned cards */
      }

      .news-card-right .flex {
        margin-left: 1rem; /* Gap for right-aligned cards */
      }

      /* Line clamp */
      .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      .line-clamp-3 {
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .row.justify-center.relative {
          gap: 1rem !important; /* 16px instead of 64px */
        }
        .md\:col-6 {
          width: 100%;
          padding: 0 8px; /* Adds slight horizontal padding */
        }

        .md\:w-4\/5 {
          width: 100%;
        }

        .news-card-left,
        .news-card-right {
          transform: translateX(0);
          justify-content: center !important;
        }

        .news-card-left .flex,
        .news-card-right .flex {
          margin-left: 0;
          margin-right: 0; /* Remove gap on mobile */
        }

        .timeline-section .container {
          padding-top: 3rem;
        }

        .absolute.top-0.bottom-0.left-1\/2 {
          display: none;
        }
      }
    </style>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        // Animate news cards on scroll
        const newsCards = document.querySelectorAll('.animate-news-card');
        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
              entry.target.style.animationDelay = `${index * 0.3}s`;
              entry.target.classList.add('animate-news-card-active');
              observer.unobserve(entry.target);
            }
          });
        }, { threshold: 0.1 });

        newsCards.forEach(card => {
          observer.observe(card);
        });
      });
    </script>
  </section>

  <!-- Projects Glimpse (Scrollable Carousel with Uniform Heights) -->
  <section class="section">
    <div class="container">
      <div class="row">
        <div class="md:col-12 lg:col-10 xl:col-8 mx-auto mb-12 text-center">
          <h2 class="mb-4 text-4xl font-bold text-gray-900 dark:text-white">
            <span class="bg-clip-text text-transparent" style="background-image: linear-gradient(to right, #e77f25,#e77f25 , #FF5C57);">Our Projects</span>
          </h2>
          <p class="text-lg text-gray-700 dark:text-gray-300 px-4 sm:px-0">
            Explore our cutting-edge research in ontology and knowledge graph technologies.
          </p>
        </div>
      </div>
      <div class="row justify-center">
        <div class="col-12">
          <div class="swiper projectSwiper">
            <div class="swiper-wrapper">
              {{ with site.Data.projects }}
                {{ range . }}
                  <div class="swiper-slide animate-project-card rounded-xl">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 flex flex-col h-full">
                      <div class="p-5 flex flex-col h-full">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2 line-clamp-2 leading-tight">
                          {{ .Title | markdownify }}
                        </h3>
                        <div class="flex-1 overflow-hidden">
                          <p class="text-gray-600 dark:text-gray-300 text-sm mb-3 line-clamp-3 md:line-clamp-4 leading-snug">
                            {{ .Description | markdownify }}
                          </p>
                        </div>
                        <p class="text-[#e77f25] dark:text-[#e77f25] text-sm mb-3 line-clamp-1 hidden md:block">
                          <span class="font-medium">Category:</span> {{ .Category }}
                        </p>
                        <div class="mt-2 h-6">
                          {{ if .githubUrl }}
                            <a href="{{ .githubUrl }}" class="inline-block bg-[#B0743F] hover:bg-[#E77F25] text-white text-sm px-3 py-1 rounded-md transition-all duration-300 hover:shadow-md">
                              <i class="fab fa-github mr-1"></i> Visit GitHub Repository
                            </a>
                          {{ end }}
                        </div>
                      </div>
                      <div class="h-1 bg-gradient-to-r from-[#B0743F] via-[#E77F25] to-[#FF5C57] rounded-b-xl"></div>
                    </div>
                  </div>
                {{ end }}
              {{ end }}
            </div>
            <!-- Navigation buttons -->
            <div class="swiper-button-prev hidden md:block"></div>
            <div class="swiper-button-next hidden md:block"></div>
          </div>
        </div>
      </div>
      <div style="padding: 2rem;"></div> <!-- padding -->
      <div class="text-center mt-6">
        <a
          href="{{ "projects/" | relURL }}"
          class="btn inline-flex items-center group transition-all duration-300 bg-[#B0743F] hover:bg-[#C18149] text-white hover:-translate-y-1 hover:shadow-lg">
          <span class="relative z-10">See All Projects</span>
          <i class="fa fa-arrow-right pl-2 transition-transform group-hover:translate-x-2"></i>
        </a>
      </div>
    </div>

    <style>
      /* Project card animation */
      .animate-project-card {
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 0.6s ease-out forwards;
      }

      /* Line clamp for text */
      .line-clamp-1 {
        display: -webkit-box;
        -webkit-line-clamp: 1;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }
      .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .line-clamp-3 {
        display: -webkit-box;
        -webkit-line-clamp: 10;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .line-clamp-4 {
        display: -webkit-box;
        -webkit-line-clamp: 4;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      /* Swiper styles */
      .projectSwiper {
        overflow: hidden; /* Prevent overflow */
        padding: 0; /* Remove padding to maximize space */
      }

      .projectSwiper .swiper-wrapper {
        align-items: center; /* Ensure slides are centered vertically */
      }

      .projectSwiper .swiper-slide {
        width: 320px;
        height: 380px; /* Fixed card height */
        margin-right: 0;
      }

      .projectSwiper .swiper-slide-active {
        transform: scale(1.02);
        opacity: 1;
      }

      .projectSwiper .swiper-slide-prev,
      .projectSwiper .swiper-slide-next {
        opacity: 0.8;
      }

      /* Ensure uniform card layout */
      .projectSwiper .swiper-slide .flex-col {
        justify-content: space-between;
        height: 100%;
      }
      
      .projectSwiper .swiper-slide .flex-col {
        height: 100%;
        justify-content: space-between;
      }

      .projectSwiper .swiper-slide .flex-1 {
        flex: 1 1 auto;
        min-height: 0;
      }

      /* Navigation buttons */
      .swiper-button-prev,
      .swiper-button-next {
        width: 40px;  /* Reduced from 48px */
        height: 40px; /* Reduced from 48px */
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(10px);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        color: #3b82f6;
        top: 45%; /* Adjust vertical position */
      }

      /* Dark mode: white arrow with white circle */
      .dark .swiper-button-prev,
      .dark .swiper-button-next {
        background: #3b82f6;
        color: #ffffff;
      }

      .swiper-button-prev:hover,
      .swiper-button-next:hover {
        transform: scale(1.1);
        background: white;
      }

      .dark .swiper-button-prev:hover,
      .dark .swiper-button-next:hover {
        background: white;
        color: #ffffff;
      }

      .swiper-button-prev:after,
      .swiper-button-next:after {
        font-size: 14px; /* Reduced from 16px */
        font-weight: bold;
      }

      /* Responsive breakpoints */
      @media (max-width: 768px) {
        .projectSwiper .swiper-slide {
          height: 280px; /* Increased from 250px */
          min-height: 280px;
        }
        .projectSwiper .swiper-slide .p-5 {
          padding: 0.75rem;
        }
        .projectSwiper .swiper-slide h3 {
          font-size: 1.5rem;
          line-height: 1;
        }
        .projectSwiper .swiper-slide p {
          font-size: 1rem;
        }
        .projectSwiper .swiper-slide .text-gray-600 {
          -webkit-line-clamp: 8; /* Reduce description to 8 lines on mobile */
        }
        .projectSwiper .swiper-slide .mt-2 {
          margin-bottom: 12px;
        }
        .projectSwiper .swiper-slide a {
          padding: 6px 12px;
          font-size: 0.875rem;
        }
        .swiper-button-prev,
        .swiper-button-next {
          width: 36px;
          height: 36px;
          top: 40%; /* Lower position for mobile */
        }
        .swiper-button-prev:after,
        .swiper-button-next:after {
          font-size: 12px;
        }
      }

      @media (max-width: 480px) {
        .projectSwiper .swiper-slide {
          height: 320px; /* Adjusted height for smallest screens */
          min-height: 320px;
        }
        .projectSwiper .swiper-slide .flex-col {
          padding-bottom: 8px;
        }
        .projectSwiper .swiper-slide .p-5 {
          padding: 0.5rem;
        }
        .projectSwiper .swiper-slide h3 {
          font-size: 1.5rem;
        }
        .projectSwiper .swiper-slide p {
          font-size: 1rem;
        }
        .swiper-button-prev,
        .swiper-button-next {
          width: 32px;
          height: 32px;
          transform: translateY(-50%) scale(0.9); /* Scale down further */
        }

        /* Position arrows closer to edges on mobile */
        .swiper-button-prev {
          left: 8px;
        }
        .swiper-button-next {
          right: 8px;
        }
      }

      @media (max-width: 360px) {
        .projectSwiper .swiper-slide {
          width: 85vw;
          min-height: 300px; /* Slightly smaller for very small screens */
        }
        .projectSwiper .swiper-slide .p-5 {
          padding: 0.5rem;
        }
        .projectSwiper .swiper-slide h3 {
          font-size: 1.5rem;
        }
        .projectswiper .swiper-slide p {
          font-size: 1rem;
        }
      }
      @media (hover: hover) {
        .swiper-button-prev:hover,
        .swiper-button-next:hover {
          transform: scale(1.1);
        }
      }
    </style>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        // Initialize Project Carousel
        const projectSwiper = new Swiper('.projectSwiper', {
          loop: true,
          slidesPerView: 1, /* Show one slide at a time on mobile */
          spaceBetween: 4,
          centeredSlides: true,
          grabCursor: true,
          autoplay: {
            delay: 3000,
            disableOnInteraction: true,
          },
          navigation: {
            nextEl: '.projectSwiper .swiper-button-next',
            prevEl: '.projectSwiper .swiper-button-prev',
          },
          breakpoints: {
            360: {
              slidesPerView: 1,
              spaceBetween: 4,
              centeredSlides: true,
            },
            480: {
              slidesPerView: 1,
              spaceBetween: 4,
              centeredSlides: true,
            },
            768: {
              slidesPerView: 'auto',
              spaceBetween: 12,
              centeredSlides: false,
            },
            1024: {
              slidesPerView: 'auto',
              spaceBetween: 16,
              centeredSlides: false,
            },
          },
        });

        // Animate project cards on scroll
        const projectCards = document.querySelectorAll('.animate-project-card');
        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
              entry.target.style.animationDelay = `${index * 0.1}s`;
              entry.target.classList.add('animate-fadeInUp-active');
              observer.unobserve(entry.target);
            }
          });
        }, { threshold: 0.1 });

        projectCards.forEach(card => {
          observer.observe(card);
        });
      });
    </script>
  </section>


  <!-- Latest Publications Section -->
  <section class="section-sm relative">
    <div class="container py-8">
      <div class="row">
        <div class="md:col-12 lg:col-10 xl:col-8 mx-auto mb-12 text-center">
          <h2 class="mb-4 text-4xl font-bold text-gray-900 dark:text-white">
            <span class="bg-clip-text text-transparent" style="background-image: linear-gradient(to right, #e77f25,#e77f25 , #FF5C57);">Latest Publications</span>
          </h2>
          <p class="text-lg text-gray-700 dark:text-gray-300 px-4 sm:px-0">
            Discover our latest achievements and events in ontology and knowledge graph research.
          </p>
        </div>
      </div>
      <div class="row justify-center">
        {{ $rawPublications := site.Data.publications }}
        {{ if not $rawPublications }}
          <div class="col-12 text-center">
            <p class="text-gray-600 dark:text-gray-400">No publications available at the moment.</p>
          </div>
        {{ else }}
          <!-- Filter publications for current year (2025) -->
          {{ $currentYear := now.Format "2006" }}
          {{ $currentYearPublications := slice }}
          {{ $allPublications := slice }}
          {{ range $rawPublications }}
            {{ $year := .Year }}
            {{ if eq $year $currentYear }}
              {{ $currentYearPublications = $currentYearPublications | append . }}
            {{ end }}
            {{ $allPublications = $allPublications | append . }}
          {{ end }}
          <!-- Sort all publications by year (descending) -->
          {{ $allPublications = sort $allPublications "Year" "desc" }}
          <!-- Decide which publications to display -->
          {{ $displayPublications := slice }}
          {{ if gt (len $currentYearPublications) 0 }}
            {{ $displayPublications = $currentYearPublications }}
          {{ else }}
            {{ $displayPublications = first 3 $allPublications }}
          {{ end }}
          <!-- Display publications -->
          {{ range $index, $pub := $displayPublications }}
            <div class="col-12 mb-6 animate-publication" style="animation-delay: {{ printf "%.1fs" (mul $index 0.2) }};">
              <div class="bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-lg shadow-md hover:shadow-xl transition-all duration-300 border-l-4 border-[#C18149] dark:border-[#D9A875] group">
                <div class="p-6 flex flex-col md:flex-row md:items-center md:justify-between">
                  <!-- Publication Details -->
                  <div class="flex-1 mb-4 md:mb-0">
                    <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2 group-hover:text-[#C18149] dark:group-hover:text-[#D9A875] transition-colors">
                      {{ if $pub.PublicationURL }}
                        <a href="{{ $pub.PublicationURL | absURL }}" target="_blank" rel="noopener noreferrer" class="hover:underline">
                          {{ $pub.Title | markdownify }}
                        </a>
                      {{ else }}
                        {{ $pub.Title | markdownify }}
                      {{ end }}
                    </h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400 italic mb-2 line-clamp-2">
                      {{ $pub.Authors | markdownify }}
                    </p>
                    <p class="text-sm text-gray-700 dark:text-gray-300 line-clamp-2">
                      {{ $pub.Description | markdownify }}
                    </p>
                  </div>
                  <!-- Year -->
                  <div class="md:ml-6 flex-shrink-0">
                    <span class="inline-block px-4 py-2 bg-[#F8E9D5] dark:bg-[#C18149] text-[#C18149] dark:text-[#F8E9D5] rounded-full text-sm font-semibold">
                      {{ $pub.Year }}
                    </span>
                  </div>
                </div>
              </div>
            </div>
          {{ end }}
        {{ end }}
      </div>
      <!-- See All Publications Button -->
      <div class="text-center mt-12">
        <a
          href="{{ "publications/" | relURL }}"
          class="btn inline-flex items-center group transition-all duration-300 bg-[#B0743F] hover:bg-[#C18149] text-white hover:-translate-y-1 hover:shadow-lg">
          <span class="relative z-10">See All Publications</span>
          <i class="fa fa-arrow-right pl-2 transition-transform group-hover:translate-x-2"></i>
        </a>
      </div>
    </div>

    <style>
      /* Publication animation */
      .animate-publication {
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 0.6s ease-out forwards;
      }
      @keyframes fadeInUp {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Line clamp */
      .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }
    </style>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        // Animate publications on scroll
        const publications = document.querySelectorAll('.animate-publication');
        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
              entry.target.style.animationDelay = `${index * 0.2}s`;
              entry.target.classList.add('animate-publication-active');
              observer.unobserve(entry.target);
            }
          });
        }, { threshold: 0.1 });

        publications.forEach(pub => {
          observer.observe(pub);
        });
      });
    </script>
  </section>



  <!-- Get in Touch Section (Gradient Background with Animated Elements) -->
  <section class="section relative overflow-hidden">
    <!-- Animated abstract shapes background -->
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
      <!-- Floating circles -->
      <div class="absolute -left-20 -top-20 w-64 h-64 rounded-full bg-[#e77f25]/30 dark:bg-[#e77f25]/15 blur-3xl animate-float1"></div>
      <div class="absolute -right-20 -bottom-20 w-72 h-72 rounded-full bg-[#FF5C57]/30 dark:bg-[#FF5C57]/15 blur-3xl animate-float2"></div>

      <!-- Abstract grid pattern - enhanced contrast -->
      <div class="absolute inset-0 opacity-40 dark:opacity-40">
        <svg class="w-full h-full" xmlns="http://www.w3.org/2000/svg">
          <pattern id="grid-pattern" x="0" y="0" width="40" height="40" patternUnits="userSpaceOnUse">
            <path d="M 40 0 L 0 0 0 40" fill="none" stroke="currentColor" stroke-width="0.5"/>
          </pattern>
          <rect width="100%" height="100%" fill="url(#grid-pattern)"/>
        </svg>
      </div>
    </div>

    <div class="container relative z-10">
      <div class="row justify-center">
        <div class="lg:col-8 md:col-10 text-center mb-16">
          <h2 class="mb-6 text-4xl font-bold text-gray-900 dark:text-white">
            <span class="bg-clip-text text-transparent" style="background-image: linear-gradient(to top, #D9A875, #B0743F, #7B3E23);">Have Questions or Ideas? Collaborate with Our Lab</span>
          </h2>
          <p class="text-xl text-gray-700 dark:text-gray-300 mb-8 leading-relaxed">
            Have doubts or questions? Contact us!
          </p>


          <!-- Animated CTA button with 3D effect -->
          <div class="relative inline-block group">
            <a href="{{ "contact/" | relURL }}" class="relative z-10 inline-flex items-center justify-center px-8 py-4 text-lg font-semibold text-white bg-gradient-to-t from-[#b4201b] to-[#ce7930] rounded-xl shadow-2xl hover:shadow-3xl transition-all duration-300 transform group-hover:-translate-y-1 group-hover:scale-105">
              <span>Contact Us</span>
              <i class="fas fa-paper-plane ml-3 transition-transform group-hover:translate-x-2"></i>
            </a>
            <!-- 3D effect behind button -->
            <span class="absolute -z-1 -bottom-2 left-4 right-4 h-6 bg-gradient-to-r from-[#b4201b] to-[#ce7930] rounded-xl opacity-60 group-hover:opacity-80 blur-md transition-all duration-300 transform group-hover:translate-y-1"></span>
          </div>

          <!-- Alternative contact methods -->
          <div class="mt-12 flex flex-wrap justify-center gap-6">
            <!-- Email -->
            <div class="flex items-center bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm px-6 py-3 rounded-lg shadow-sm hover:shadow-md transition-all">
              <div class="mr-4 p-2 rounded-full" style="background-color: var(--icon-bg)">
                <i class="fas fa-envelope text-xl" style="color: var(--icon-color)"></i>
              </div>
              <div>
                <p class="text-sm text-gray-500 dark:text-gray-400">Email us at</p>
                <a href="mailto:raghava.mutharaju@iiitd.ac.in" class="text-blue-600 dark:text-blue-400 font-medium hover:underline">raghava.mutharaju@iiitd.ac.in</a>
              </div>
            </div>

            <!-- Social Media -->
            <div class="flex items-center bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm px-6 py-3 rounded-lg shadow-sm hover:shadow-md transition-all">
              <div class="mr-4 p-2 rounded-full" style="background-color: var(--icon-bg)">
                <i class="fas fa-hashtag text-xl" style="color: var(--icon-color)"></i>
              </div>
              <div>
                <p class="text-sm text-gray-500 dark:text-gray-400">Connect with us</p>
                <div class="flex space-x-3 mt-1">
                  <a href="https://www.linkedin.com/in/kracr-lab-425762204/" target="_blank" rel="noopener noreferrer" class="text-gray-700 dark:text-gray-300 hover:text-blue-800 dark:hover:text-blue-300 transition-colors">
                    <i class="fab fa-linkedin text-lg"></i>
                  </a>
                  <a href="https://github.com/kracr" target="_blank" rel="noopener noreferrer" class="text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors">
                    <i class="fab fa-github text-lg"></i>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <style>
      /* Floating animations for background elements */
      @keyframes float1 {
        0%, 100% { transform: translate(0, 0) rotate(0deg); }
        50% { transform: translate(-20px, -20px) rotate(5deg); }
      }
      @keyframes float2 {
        0%, 100% { transform: translate(0, 0) rotate(0deg); }
        50% { transform: translate(20px, 20px) rotate(-5deg); }
      }
      .animate-float1 {
        animation: float1 12s ease-in-out infinite;
      }
      .animate-float2 {
        animation: float2 15s ease-in-out infinite;
        animation-delay: 2s;
      }

      /* Enhanced grid contrast */
      .dark #grid-pattern path {
        stroke: rgba(255, 255, 255, 0.5);
      }
      #grid-pattern path {
        stroke: rgba(0, 0, 0, 0.5);
      }

      /* 3D button hover effect */
      .group:hover .btn-3d-effect {
        transform: translateY(4px);
        opacity: 0.8;
      }

      /* Smooth transitions for contact cards */
      .transition-all {
        transition-property: all;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 300ms;
      }
    </style>
  </section>

{{ end }}